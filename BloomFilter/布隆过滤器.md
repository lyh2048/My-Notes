# 布隆过滤器

Bloom算法类似一个HashSet，用来判断某个元素（key）是否在某个集合中。和一般的HashSet不同的是，这个算法无需存储key的值，对于每个key，只需要k个比特位，每个位置存储一个标志，用来判断key是否在集合中。



![img](%E5%B8%83%E9%9A%86%E8%BF%87%E6%BB%A4%E5%99%A8.assets/2012071317402283.png)

算法：

1、首先需要k个hash函数，每个函数可以把key散列成为1个整数

2、初始化时，需要一个长度为n比特的数组，每个比特位初始化为0

3、某个key加入集合时，用k个hash函数计算出k个散列值，并把数组中对应的比特位置为1

4、判断某个key是否在集合时，用k个hash函数计算出k个散列值，并查询数组中对应的比特位，如果所有的比特位都是1，认为该key在集合中



优点：不需要存储key，节省空间

缺点：

1、算法判断key是否在集合中时，有一定的概率误判

2、删除困难



布隆过滤器的用途：

- 解决Redis缓存穿透
- URL去重
- 垃圾邮件过滤
- ……