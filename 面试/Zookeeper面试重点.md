# Zookeeper面试重点

## 选举机制

半数机制，超过半数的投票通过，即通过

（1）第一次启动选举规则：投票过半数时，服务器id大的胜出

（2）第二次启动选举规则：

- EPOCH大的直接胜出
- EPOCH相同，事务id大的胜出
- 事务id相同，服务器id大的胜出

## 生产集群安装多少zk合适？

安装奇数台

生产经验：

- 10台服务器：3台zk
- 20台服务器：5台zk
- 100台服务器：11台zk
- 200台服务器：11台zk

服务器台数多：好处，提高可靠性；坏处，增加了通信延时

## 常用命令

```bash
ls
get
create
delete
……
```

